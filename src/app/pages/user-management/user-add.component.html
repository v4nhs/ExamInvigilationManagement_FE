<div class="add-container">
  <div class="form-card">
    <h2 class="form-title">Thêm người dùng mới</h2>
    
    <form (ngSubmit)="onSubmit()" #userForm="ngForm">
      <div class="form-item">
        <label>Tên đăng nhập:</label>
        <input nz-input name="username" [(ngModel)]="form.username" required placeholder="admin_01" />
      </div>

      <div class="form-row">
        <div class="form-item">
          <label>Họ:</label>
          <input nz-input name="firstName" [(ngModel)]="form.firstName" required />
        </div>
        <div class="form-item">
          <label>Tên:</label>
          <input nz-input name="lastName" [(ngModel)]="form.lastName" required />
        </div>
      </div>

      <div class="form-item">
        <label>Email:</label>
        <input nz-input name="email" [(ngModel)]="form.email" required type="email" placeholder="example@domain.com" />
      </div>

      <div class="form-item">
        <label>Mật khẩu:</label>
        <input nz-input name="password" [(ngModel)]="form.password" required type="password" />
      </div>

      <div class="form-item">
        <label>Vai trò (Chọn nhiều):</label>
        <nz-select 
          nzMode="multiple" 
          nzPlaceHolder="Chọn vai trò" 
          name="roleIds" 
          [(ngModel)]="form.roleIds" 
          [nzLoading]="roles.length === 0"
          required>
          <ng-container *ngFor="let role of roles">
            <nz-option [nzLabel]="role.name" [nzValue]="role.id"></nz-option>
          </ng-container>
        </nz-select>
        <div *ngIf="roles.length === 0" class="loading-text">Đang tải danh sách vai trò...</div>
      </div>

      <div class="form-actions">
        <button nz-button nzType="primary" type="submit" [disabled]="userForm.invalid">
          <span nz-icon nzType="plus"></span> Thêm mới
        </button>
        <button nz-button nzType="default" type="button" (click)="goBack()">Quay lại</button>
      </div>
    </form>
  </div>
</div>