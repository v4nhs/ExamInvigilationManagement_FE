<div class="payouts-container">
  <div class="payouts-content">
    <!-- Page Header -->
    <div class="payouts-header">
      <h1>Th·ªëng K√™ Thanh To√°n</h1>
      <p>T·ªïng qu√°t t√¨nh h√¨nh thanh to√°n cho gi·∫£ng vi√™n coi thi</p>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="loading-spinner">
      <div class="spinner"></div>
      <p>ƒêang t·∫£i d·ªØ li·ªáu...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="error && !loading" class="error-message">
      {{ error }}
    </div>

    <!-- Statistics Cards -->
    <div *ngIf="!loading && !error" class="statistics-grid">
      <!-- Card 1: Total Revenue -->
      <div class="stat-card revenue-card">
        <div class="stat-icon">üí∞</div>
        <div class="stat-content">
          <div class="stat-number">{{ formatCurrency(totalRevenue) }}</div>
          <div class="stat-label">T·ªïng Doanh Thu</div>
          <div class="stat-description">T·ªïng gi√° tr·ªã thanh to√°n</div>
        </div>
      </div>

      <!-- Card 2: Total Payments -->
      <div class="stat-card payment-card">
        <div class="stat-icon">üìä</div>
        <div class="stat-content">
          <div class="stat-number">{{ totalPayments }}</div>
          <div class="stat-label">T·ªïng Thanh To√°n</div>
          <div class="stat-description">T·ªïng s·ªë l·∫ßn thanh to√°n</div>
        </div>
      </div>

      <!-- Card 3: Paid Amount -->
      <div class="stat-card paid-card">
        <div class="stat-icon">‚úÖ</div>
        <div class="stat-content">
          <div class="stat-number">{{ formatCurrency(paidAmount) }}</div>
          <div class="stat-label">ƒê√£ Thanh To√°n</div>
          <div class="stat-description">S·ªë ti·ªÅn ƒë√£ thanh to√°n</div>
        </div>
      </div>

      <!-- Card 4: Pending Amount -->
      <div class="stat-card pending-card">
        <div class="stat-icon">‚è≥</div>
        <div class="stat-content">
          <div class="stat-number">{{ formatCurrency(pendingAmount) }}</div>
          <div class="stat-label">Ch·ªù Thanh To√°n</div>
          <div class="stat-description">S·ªë ti·ªÅn ch·ªù x·ª≠ l√Ω</div>
        </div>
      </div>
    </div>

    <!-- Status Chart Section -->
    <div *ngIf="!loading && !error && statusData.length > 0" class="chart-section">
      <h2>Th·ªëng K√™ Theo Tr·∫°ng Th√°i</h2>
      <div class="status-chart">
        <div *ngFor="let item of statusData; let i = index" class="status-item">
          <div class="status-header">
            <span class="status-name">{{ item.name }}</span>
            <span class="status-count">{{ item.value }} l·∫ßn</span>
          </div>
          <div class="bar-container">
            <div class="bar" [style.width.%]="item.percentage" [style.backgroundColor]="getStatusColor(item.name)">
              <span class="bar-label">{{ item.percentage }}%</span>
            </div>
          </div>
          <div class="status-amount">{{ formatCurrency(item.amount) }}</div>
        </div>
      </div>
    </div>
  </div>
</div>
