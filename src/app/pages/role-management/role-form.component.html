<div class="modal-overlay" (click)="$event.target === $event.currentTarget && closeDialog()">
  <div class="modal-dialog">
    <div class="modal-header">
      <h2>{{ editRoleId ? 'Cập nhật vai trò' : 'Thêm vai trò mới' }}</h2>
      <button type="button" class="close-btn" (click)="closeDialog()">
        <i class="icon-close">×</i>
      </button>
    </div>

    <div class="modal-body">
      <form *ngIf="!loading" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="name">Tên vai trò <span class="required">*</span></label>
          <input
            type="text"
            id="name"
            [(ngModel)]="role.name"
            name="name"
            placeholder="Ví dụ: ADMIN, USER"
            required
          />
        </div>

        <div class="form-group">
          <label for="description">Mô tả</label>
          <textarea
            id="description"
            [(ngModel)]="role.description"
            name="description"
            placeholder="Nhập mô tả vai trò"
            rows="3"
          ></textarea>
        </div>
      </form>

      <div *ngIf="loading" class="loading-spinner">
        <div class="spinner"></div>
        <p>Đang tải dữ liệu...</p>
      </div>
    </div>

    <div class="modal-footer">
      <button type="button" class="cancel-btn" (click)="closeDialog()">Hủy</button>
      <button type="submit" class="submit-btn" (click)="onSubmit()" [disabled]="loading">
        {{ loading ? 'Đang lưu...' : editRoleId ? 'Cập nhật' : 'Tạo mới' }}
      </button>
    </div>
  </div>
</div>
