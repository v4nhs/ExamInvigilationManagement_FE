<div class="lecturer-list-container">
  <div class="page-header">
    <h2>Danh sách cán bộ coi thi</h2>
    <div class="header-actions">
      <button class="add-btn" (click)="openAddForm()">+ Thêm giảng viên</button>
    </div>
  </div>

  <table *ngIf="lecturers.length > 0; else emptyBlock">
    <thead>
      <tr>
        <th>#</th>
        <th>Họ tên</th>
        <th>Email</th>
        <th>Điện thoại</th>
        <th>Khoa</th>
        <th>Chức danh</th>
        <th>Chuyên môn</th>
        <th>Hành động</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let lecturer of lecturers; let i = index">
        <td>{{ i + 1 }}</td>
        <td><span class="lecturer-name">{{ lecturer.fullName }}</span></td>
        <td>{{ lecturer.email }}</td>
        <td>{{ lecturer.phone || '-' }}</td>
        <td>{{ lecturer.department?.name || '-' }}</td>
        <td>{{ lecturer.academicTitle || '-' }}</td>
        <td>{{ lecturer.specialization || '-' }}</td>
        <td class="action-cell">
          <button class="edit-btn" (click)="openAddForm()" [disabled]="!lecturer.id">Sửa</button>
          <button class="delete-btn" (click)="deleteLecturer(lecturer.id)" [disabled]="!lecturer.id || deleting === lecturer.id">
            {{ deleting === lecturer.id ? 'Đang xóa...' : 'Xóa' }}
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <ng-template #emptyBlock>
    <div class="empty">Không có giảng viên nào.</div>
  </ng-template>

  <div *ngIf="loading" class="loading">Đang tải...</div>

  <app-lecturer-add 
    *ngIf="showAddForm" 
    [editLecturerId]="editingLecturerId"
    (close)="closeAddForm()" 
    (saved)="onLecturerSaved()">
  </app-lecturer-add>
</div>
